<!DOCTYPE html>

<html data-bs-theme="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Technical Document - Food Recipe Web App</title>
<link href="../css/bootstrap.min.css" rel="stylesheet"/>
<link href="../css/fontawesome.min.css" rel="stylesheet"/>
<link href="../css/brands.min.css" rel="stylesheet"/>
<link href="../css/solid.min.css" rel="stylesheet"/>
<link href="../css/v4-font-face.min.css" rel="stylesheet"/>
<link href="../css/base.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" id="hljs-light" rel="stylesheet"/>
<link disabled="" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" id="hljs-dark" rel="stylesheet"/>
<link href="../stylesheets/custom.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body>
<div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
<div class="container">
<a class="navbar-brand" href="..">Food Recipe Web App</a>
<!-- Expander button -->
<button aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbar-collapse" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<!-- Expanded navigation -->
<div class="navbar-collapse collapse" id="navbar-collapse">
<!-- Main navigation -->
<ul class="nav navbar-nav">
<li class="nav-item">
<a class="nav-link" href="..">Home</a>
</li>
<li class="nav-item">
<a class="nav-link" href="../functional_doc/">Functional Document</a>
</li>
<li class="nav-item">
<a class="nav-link" href="../business_use_case/">Business Use Case</a>
</li>
<li class="nav-item">
<a class="nav-link" href="../database_schema/">Database Schema</a>
</li>
<li class="nav-item">
<a aria-current="page" class="nav-link active" href="./">Technical Document</a>
</li>
</ul>
<ul class="nav navbar-nav ms-md-auto">
<li class="nav-item">
<a class="nav-link" href="../database_schema/" rel="prev">
<i class="fa fa-arrow-left"></i> Previous
                                </a>
</li>
<li class="nav-item">
<a class="nav-link disabled" rel="next">
                                    Next <i class="fa fa-arrow-right"></i>
</a>
</li>
</ul>
</div>
</div>
</div>
<div class="container">
<div class="row">
<div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
<div class="navbar-header">
<button class="navbar-toggler collapsed" data-bs-target="#toc-collapse" data-bs-toggle="collapse" title="Table of Contents" type="button">
<span class="fa fa-angle-down"></span>
</button>
</div>
<div class="navbar-collapse collapse card bg-body-tertiary" id="toc-collapse">
<ul class="nav flex-column">
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#system-architecture-data-flow">System Architecture &amp; Data Flow</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#login-process-sequence-diagram">Login Process — Sequence Diagram</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#authorization-food-recipe-web-app">Authorization — Food Recipe Web App</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#overview">Overview</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#authorization-flow">Authorization Flow</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#api-reference">API Reference</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#testing-frameworks">Testing Frameworks</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#tech-stack">Tech Stack</a>
<ul class="nav flex-column">
</ul>
</li>
</ul>
</div>
</div></div>
<div class="col-md-9" role="main">
<h2 id="system-architecture-data-flow">System Architecture &amp; Data Flow</h2>
<p>This section explains the overall system setup and internal data movement in the project.</p>
<hr/>
<h3 id="explanation">Explanation</h3>
<ul>
<li><strong>Route 53</strong>: Provides the custom domain and DNS routing for the application.  </li>
<li><strong>EC2 Instance</strong>: Hosts the Node.js + Express backend service that manages API requests and business logic.  </li>
<li><strong>S3 Bucket</strong>:  </li>
<li>Serves static frontend files built from React + Vite.  </li>
<li>Stores uploaded recipe images and other media assets.  </li>
<li><strong>MongoDB Atlas</strong>: Cloud-hosted NoSQL database used to persist user accounts, recipes, and favorites.  </li>
<li><strong>Security</strong>:  </li>
<li>All API calls are served over HTTPS through Route 53-managed SSL.  </li>
<li>JWT tokens secure authentication across sessions.</li>
</ul>
<p>This setup ensures high availability, scalability, and separation of concerns between static hosting, compute, and storage.</p>
<hr/>
<h3 id="aws-deployment-architecture">AWS Deployment Architecture</h3>
<p>Below is the structure showing how the application is deployed using AWS services.</p>
<p><img alt="AWS Deployment Structure" src="../AWS%20architecture-6.png"/></p>
<hr/>
<h3 id="data-flow-diagram-dfd">Data Flow Diagram (DFD)</h3>
<p>The DFD illustrates how data moves across the system — from users to the database and backend processes.</p>
<p><img alt="System DFD" src="../Blank%20diagram-2.png"/></p>
<blockquote>
<p><em>Note: This is a simplified Level-1 DFD representing the major data movement.</em></p>
</blockquote>
<h3 id="explanation_1">Explanation</h3>
<ol>
<li><strong>User Interaction</strong> – A user accesses the application through a browser or installed PWA.  </li>
<li><strong>Frontend Request</strong> – The React interface communicates with the backend via REST APIs.  </li>
<li><strong>Backend Processing</strong> – The Node.js + Express server validates inputs, handles business logic, and manages authentication.  </li>
<li><strong>Database Operations</strong> – MongoDB Atlas stores or retrieves recipe and user data as requested.  </li>
<li><strong>Response Delivery</strong> – The backend sends structured JSON responses to the frontend, which updates the UI accordingly.</li>
</ol>
<hr/>
<h2 id="login-process-sequence-diagram">Login Process — Sequence Diagram</h2>
<p>This diagram represents the login and signup process in a compact, visual form.</p>
<div class="mermaid">sequenceDiagram
    User -&gt;&gt; App: Signup or Login
    App -&gt;&gt; Database: Check or save user details
    Database --&gt;&gt; App: Send result
    alt Correct password
        App -&gt;&gt; User: Access granted
    else Wrong password
        App -&gt;&gt; User: Show "Wrong password"
    end
</div>
<hr/>
<h2 id="authorization-food-recipe-web-app">Authorization — Food Recipe Web App</h2>
<p>The <strong>Food Recipe Web App</strong> uses <strong>JWT-based authorization</strong> to manage access to its backend routes.<br/>
There are <strong>two user types</strong> in the system:</p>
<ul>
<li><strong>Guest</strong> — an unauthenticated user (can only view and search recipes).  </li>
<li><strong>User</strong> — an authenticated user (can create, edit, delete, or mark recipes as favorite).</li>
</ul>
<hr/>
<h2 id="overview">Overview</h2>
<p>Authorization determines <strong>what a user is allowed to do</strong> after authentication.<br/>
All <strong>read operations</strong> are public, while <strong>write operations</strong> (create, update, delete, favorite) require a valid JWT.</p>
<table>
<thead>
<tr>
<th>Access Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Guest</strong></td>
<td>Public access without login</td>
<td>Viewing and searching recipes</td>
</tr>
<tr>
<td><strong>User</strong></td>
<td>Authenticated with JWT</td>
<td>Creating, editing, deleting, or favoriting recipes</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="authorization-flow">Authorization Flow</h2>
<div class="mermaid">flowchart TD
    A[Guest or User] --&gt;|Sends Request for create,update,delete recipe| B[Auth Middleware]
    B --&gt;|Valid JWT?| C{Token Valid?}
    C --&gt;|No| D[401 Unauthorized]
    C --&gt;|Yes| E[Ownership Check]
    E --&gt;|Authorised user| F[Access Granted]
    E --&gt;|Unauthorised user| G[403 Forbidden]

</div>
<hr/>
<h2 id="api-reference">API Reference</h2>
<p>This table lists all API endpoints currently implemented (or recommended) in the <strong>Food Recipe Web App</strong>.<br/>
The routes are grouped by functional modules: <strong>Auth/User</strong>, <strong>Recipes</strong>, <strong>Static Assets</strong>, and <strong>Favorites</strong>.</p>
<hr/>
<h3 id="auth-user">Auth / User</h3>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Method</strong></th>
<th style="text-align: center;"><strong>Path</strong></th>
<th style="text-align: center;"><strong>Auth</strong></th>
<th style="text-align: center;"><strong>Request (body / params / query)</strong></th>
<th style="text-align: center;"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>POST</strong></td>
<td style="text-align: center;"><code>/signUp</code></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">JSON <code>{ "email", "password" }</code></td>
<td style="text-align: center;">Registers a new user</td>
</tr>
<tr>
<td style="text-align: center;"><strong>POST</strong></td>
<td style="text-align: center;"><code>/login</code></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">JSON <code>{ "email", "password": }</code></td>
<td style="text-align: center;">Authenticates user and</td>
</tr>
<tr>
<td style="text-align: center;"><strong>GET</strong></td>
<td style="text-align: center;"><code>/user/:id</code></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Path param: user ID</td>
<td style="text-align: center;">Returns <code>{ email}</code>.</td>
</tr>
</tbody>
</table>
<hr/>
<h3 id="recipes">Recipes</h3>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Method</strong></th>
<th style="text-align: center;"><strong>Path</strong></th>
<th style="text-align: center;"><strong>Auth</strong></th>
<th style="text-align: center;"><strong>Request (body / params / query)</strong></th>
<th style="text-align: center;"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>GET</strong></td>
<td style="text-align: center;"><code>/recipes/</code></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">Returns <code>[ recipe, recipe]</code>; each recipe includes model fields</td>
</tr>
<tr>
<td style="text-align: center;"><strong>GET</strong></td>
<td style="text-align: center;"><code>/recipes/:id</code></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Path param: recipe ID</td>
<td style="text-align: center;">Returns a single recipe object.</td>
</tr>
<tr>
<td style="text-align: center;"><strong>POST</strong></td>
<td style="text-align: center;"><code>/recipes/</code></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">multipart/form-data <code>{ ex file, title}</code></td>
<td style="text-align: center;">Creates a new recipe. Multer saves file to <code>backend/public/images</code> .</td>
</tr>
<tr>
<td style="text-align: center;"><strong>PUT</strong></td>
<td style="text-align: center;"><code>/recipes/:id</code></td>
<td style="text-align: center;">Optional</td>
<td style="text-align: center;">multipart/form-data or JSON</td>
<td style="text-align: center;">Updates an existing recipe.</td>
</tr>
<tr>
<td style="text-align: center;"><strong>DELETE</strong></td>
<td style="text-align: center;"><code>/recipes/:id</code></td>
<td style="text-align: center;">Optional</td>
<td style="text-align: center;">Path param: recipe ID</td>
<td style="text-align: center;">Deletes recipe.</td>
</tr>
</tbody>
</table>
<hr/>
<h3 id="static-assets">Static Assets</h3>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Method</strong></th>
<th style="text-align: center;"><strong>Path</strong></th>
<th style="text-align: center;"><strong>Auth</strong></th>
<th style="text-align: center;"><strong>Request (body / params / query)</strong></th>
<th style="text-align: center;"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>GET</strong></td>
<td style="text-align: center;"><code>/images/:filename</code></td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Path param: filename</td>
<td style="text-align: center;">Serves static images from <code>backend/public/images/</code>. Use in frontend as <code>http://&lt;host&gt;/images/&lt;coverImage&gt;</code>.</td>
</tr>
</tbody>
</table>
<hr/>
<h3 id="favorites-server-side-persistence">Favorites (Server-Side Persistence)</h3>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Method</strong></th>
<th style="text-align: center;"><strong>Path</strong></th>
<th style="text-align: center;"><strong>Auth</strong></th>
<th style="text-align: center;"><strong>Request (body / params / query)</strong></th>
<th style="text-align: center;"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>POST</strong></td>
<td style="text-align: center;"><code>/favorites</code></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">JSON <code>{ "recipeId": "&lt;id&gt;" }</code></td>
<td style="text-align: center;">Creates a favorite document .</td>
</tr>
<tr>
<td style="text-align: center;"><strong>DELETE</strong></td>
<td style="text-align: center;"><code>/favorites/:recipeId</code></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Path param: recipeId</td>
<td style="text-align: center;">Removes favorite for the current user.</td>
</tr>
<tr>
<td style="text-align: center;"><strong>GET</strong></td>
<td style="text-align: center;"><code>/favorites/me</code></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">Returns <code>[ favorite doc (populated with recipe) ]</code>.</td>
</tr>
<tr>
<td style="text-align: center;"><strong>POST</strong></td>
<td style="text-align: center;"><code>/favorites/migrate</code></td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">JSON <code>{ "recipeIds" }</code></td>
<td style="text-align: center;">Migrates localStorage favorites to DB on login.</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="testing-frameworks">Testing Frameworks</h2>
<p>The project follows a minimal and efficient testing approach focusing on verifying key logic and API endpoints.<br/>
This setup uses <strong>Jest</strong> for automated testing and <strong>Postman</strong> for manual API validation.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><strong>Testing Area</strong></th>
<th style="text-align: left;"><strong>Framework / Tool</strong></th>
<th style="text-align: left;"><strong>Purpose</strong></th>
<th style="text-align: left;"><strong>Type of Testing</strong></th>
<th style="text-align: left;"><strong>Execution Mode</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Backend &amp; Frontend Logic</strong></td>
<td style="text-align: left;"><strong>Jest</strong></td>
<td style="text-align: left;">Validate backend controllers, database operations, and utility functions.</td>
<td style="text-align: left;">Unit / Integration</td>
<td style="text-align: left;">Automated</td>
</tr>
<tr>
<td style="text-align: left;"><strong>API Endpoints</strong></td>
<td style="text-align: left;"><strong>Postman</strong></td>
<td style="text-align: left;">Verify API routes such as <code>/login</code>, <code>/signUp</code>, <code>/recipe</code>, and <code>/favorite</code>.</td>
<td style="text-align: left;">Functional / Manual</td>
<td style="text-align: left;">Manual runs using Postman GUI</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="tech-stack">Tech Stack</h2>
<p>The <strong>Food Recipe Web App</strong> is a full-stack MERN (MongoDB, Express.js, React, Node.js) project designed for recipe management, authentication, and image handling.<br/>
The table below lists all major technologies and their specific roles.</p>
<hr/>
<table>
<thead>
<tr>
<th style="text-align: left;"><strong>Layer</strong></th>
<th style="text-align: left;"><strong>Technology / Service</strong></th>
<th style="text-align: left;"><strong>Purpose</strong></th>
<th style="text-align: left;"><strong>Category</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Frontend</strong></td>
<td style="text-align: left;"><strong>React.js + Vite</strong></td>
<td style="text-align: left;">Build fast, responsive, and modular user interfaces.</td>
<td style="text-align: left;">Framework</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>PWA (Progressive Web App)</strong></td>
<td style="text-align: left;">Enable offline use and “Add to Home Screen” functionality.</td>
<td style="text-align: left;">Enhancement</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Backend</strong></td>
<td style="text-align: left;"><strong>Node.js</strong></td>
<td style="text-align: left;">Runtime environment for server-side logic.</td>
<td style="text-align: left;">Runtime</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>Express.js</strong></td>
<td style="text-align: left;">Lightweight web framework to manage routes and APIs.</td>
<td style="text-align: left;">Framework</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>Multer</strong></td>
<td style="text-align: left;">Handle file uploads (recipe images).</td>
<td style="text-align: left;">Middleware</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>bcrypt</strong></td>
<td style="text-align: left;">Secure password hashing before storage.</td>
<td style="text-align: left;">Security</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>JWT (JSON Web Token)</strong></td>
<td style="text-align: left;">User authentication and authorization.</td>
<td style="text-align: left;">Security</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Database</strong></td>
<td style="text-align: left;"><strong>MongoDB Atlas</strong></td>
<td style="text-align: left;">Store user data, recipes, and favorites in the cloud.</td>
<td style="text-align: left;">Database</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Cloud &amp; Deployment</strong></td>
<td style="text-align: left;"><strong>AWS EC2</strong></td>
<td style="text-align: left;">Host backend server and APIs.</td>
<td style="text-align: left;">Cloud Compute</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>AWS S3</strong></td>
<td style="text-align: left;">Store uploaded images securely and serve them globally.</td>
<td style="text-align: left;">Cloud Storage</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>AWS Route 53</strong></td>
<td style="text-align: left;">Manage custom domain and DNS routing.</td>
<td style="text-align: left;">Cloud DNS</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>GitHub Pages</strong></td>
<td style="text-align: left;">Deploy documentation and static assets.</td>
<td style="text-align: left;">Hosting</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Testing &amp; Validation</strong></td>
<td style="text-align: left;"><strong>Jest</strong></td>
<td style="text-align: left;">Unit and integration testing for logic validation.</td>
<td style="text-align: left;">Testing</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong>Postman</strong></td>
<td style="text-align: left;">Manual API testing and verification.</td>
<td style="text-align: left;">Testing</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Version Control</strong></td>
<td style="text-align: left;"><strong>Git &amp; GitHub</strong></td>
<td style="text-align: left;">Track versions and collaborate on code.</td>
<td style="text-align: left;">DevOps</td>
</tr>
</tbody>
</table>
<hr/></div>
</div>
</div>
<footer class="col-md-12">
<hr/>
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
</footer>
<script src="../js/bootstrap.bundle.min.js"></script>
<script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
<script src="../js/base.js"></script>
<div aria-hidden="true" aria-labelledby="keyboardModalLabel" class="modal" id="mkdocs_keyboard_modal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
<button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
</div>
<div class="modal-body">
<table class="table">
<thead>
<tr>
<th style="width: 20%;">Keys</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="help shortcut"><kbd>?</kbd></td>
<td>Open this help</td>
</tr>
<tr>
<td class="next shortcut"><kbd>n</kbd></td>
<td>Next page</td>
</tr>
<tr>
<td class="prev shortcut"><kbd>p</kbd></td>
<td>Previous page</td>
</tr>
<tr>
<td class="search shortcut"><kbd>s</kbd></td>
<td>Search</td>
</tr>
</tbody>
</table>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>
